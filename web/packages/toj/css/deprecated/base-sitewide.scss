/*!
 * Town Of Jackson, Wyoming. Author: Focus43 (http://focus-43.com)
 */
html, body, .fullHeight {height:100% !important;min-height:100%;}
  .fullHeight {position:relative;}
body {font-family:'Roboto Slab', serif;background:url(#{$tojImages}textures/black_lozenge.png);background-attachment:fixed;}
h1,h2,h3,h4,h5 {font-family:'Roboto Slab', serif;font-weight:700;}
a {cursor:pointer;
  &:hover {text-decoration:none;}
}
.centerize {text-align:center;}
.robotoSlab {font-family:'Roboto Slab', serif;}
.backStretch {background-position:50% 50%;background-size:cover;background-repeat:no-repeat;
  &.anchorLeft {background-position:0 50%;}
}


// ALL PAGES ARE WRAPPED IN #pageWrap DIRECTLY INSIDE BODY TAG
#pageWrap.fullHeight {}


// LEFT AND RIGHT SIDEBARS (RESPONSIVE)
#cLeft {left:0; @include boxShadow(inset -20px 0 20px -20px #000);}
#cRight {right:0; @include boxShadow(inset 20px 0 20px -20px #000);}
#cLeft, #cRight {color:#fff;display:none;position:fixed;top:0;bottom:0; overflow-y:auto;
  .inner {font-size:13px;padding:15px;}
  .hidden-sidebar {display:none;}
  // ANIMATED ICON WHILE SIDEBAR IS LOADING VIA AJAX
  &[data-load] {background:transparent url(#{$tojImages}loading.gif) no-repeat 50% 50%;}
}


// MIDDLE AREA (MAIN CONTENT)
#cMiddle {z-index:1;
  a {color:#1b67a2;
    &:hover {text-decoration:underline;}
  }
}


// PRIMARY NAVIGATION
#primaryNav {z-index:3;position:fixed;top:0;left:0;right:0;
  a, a:hover {text-decoration:none;color:inherit;}
  .brand {color:#fff;position:relative;top:-2px;color:#e5e5e5;font-weight:700;}

  // BOOTSTRAP CUSTOMIZATION
  .navbar-inner {border:0; @include rounded(0);}
  .btn.btn-navbar {color:#fff;line-height:1em;padding:.5em 1em;position:relative;top:-1px;
    span {display:inline-block;}
  }

  #primaryNavList {
    li {
      a.level-1 {color:#fff;position:relative;z-index:3;border:1px solid transparent;border-top:0;border-bottom:0;}
      &:hover a.level-1 {color:#333;background:#f4f4f4;text-shadow:none;border-left-color:#000;border-right-color:#000;}
      .subMenu {color:#333;display:none;position:absolute;top:100%;left:0;right:0;padding:15px;border:1px solid #333;border-top:0; @include rounded(0, 0, 6px, 6px); @include boxShadow(0 2px 12px rgba(0,0,0,.45));
        .container-fluid {padding:0;
          ul.unstyled {position:relative;
            li {
              a {padding:.4em .6em;display:block;border:0;background:transparent;text-transform:capitalize;}
              &:hover a {background:#f2f2f2; @include rounded(5px); @include boxShadow(inset 0 0 4px rgba(0,0,0,.5));}
            }
          }
        }
      }
      &:hover .subMenu {display:block;}
      .icon-cogs {color:#fff;}
    }
  }
}


// LEFT SIDEBAR
#cLeft {
  // NEWS
  ul#news {margin:2em 0;
    li {display:block;margin-bottom:.8em;
      &.news {text-align:center;font-size:2em;margin-bottom:.4em;line-height:1em;}
      a {color:#fff;}
    }
  }

  // WEATHER WIDGET (BLOCK)
  .weatherWidget {text-align:center;color:#333;margin-bottom:1em;overflow:hidden; @include rounded(5px); @include boxShadow(0 0 5px #000); @include linearGradientLight;
    label {padding:.3em 0;font-size:inherit;color:#e1e1e1;background:rgba(0,0,0,.55);}
    img {margin-bottom:5px;}
  }
}


// REUSABLE BASIC WELL-STYLED LIST
ul.unstyled.basic-list {color:#333;margin-bottom:1em;overflow:hidden; @include rounded(5px); @include boxShadow(0 0 5px #000);@include linearGradientLight;
  li {display:block;
    a {position:relative;display:block;padding:.6em 1em .4em;
      i {position:absolute;right:0;top:6px;color:#777;font-size:1.5em;}
    }
    &:hover a {background:rgba(0,0,0,.1);}
    &:last-child a {padding-bottom:.5em;}
  }
}


// NEWS AND ALERTS
#newsAndAlerts.well {color:#222;margin:3.4em 0 3em;position:relative;@include boxShadow(0 0 8px rgba(0,0,0,.6));
  #importantAlerts {color:#f5f5f5;display:block;line-height:1em;font-size:2em;padding:0;margin:0 0 -3px;position:absolute;bottom:100%;text-transform:uppercase; text-shadow:0 -1px 1px #000;}
  ul.unstyled {margin:0 0 1em;text-align:center;
    li {width:33.33%;display:inline-block;float:left;
      a {display:block;}
    }
  }
  ol.unstyled {margin:0;background:#d5d5d5;min-height:2em;@include border-radius(5px);@include boxShadow(0 0 8px rgba(0,0,0,.6));
    li {padding:1em;display:none;text-transform:capitalize;
      &:first-child {display:block;}
      span.label {margin-right:.3em;}
    }
  }
  h4 {margin:0;padding:1em 0 0;}
}


// LANDING PAGES
body.landing {
  // FULL SCREEN BACKGROUND CONTAINER, IF THE PAGE HAS ONE ASSIGNED
  #biggieSmalls {position:fixed;top:0;right:0;bottom:0;left:0;}

  // CONTAINERS AND RAINBOWS AND UNICORNS
  #cPrimary {min-height:100%;position:relative;margin:0 30px;max-width:1170px;z-index:2;
    #cPrimaryInner {padding:60px 0 320px;
      .container-fluid {overflow:hidden;background:rgba(255,255,255,.9);padding-bottom:2em; -webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px; -webkit-box-shadow:0 0 3px rgba(0,0,0,.75);-moz-box-shadow:0 0 3px rgba(0,0,0,.75);box-shadow:0 0 3px rgba(0,0,0,.75);
        h1 {font-weight:300;color:#777;margin:0 -20px 20px;padding:.3em 0 .4em 20px;background:#f1f1f1;border-top:1px solid #f9f9f9;border-bottom:1px solid #ddd;text-shadow:0 1px 0 #fff;}
        ul#sidebarNav.nav.nav-list li {
          a {display:block;padding-top:.4em;padding-bottom:.4em;}
          &.active a, &.nav-path-selected a {color:#f5f5f5;}
        }
      }
    }
  }

  // BREADCRUMBS
  #breadcrumbs {text-transform:capitalize;line-height:1em;letter-spacing:1px;font-size:12px;font-weight:200;font-family:'helvetica neue', arial, sans-serif;margin:0 -20px;border-bottom:1px solid #ddd;background:#e9e9e9;
    // ACTUAL BREADCRUMBS, FLOATED LEFT
    ul.nav.unstyled {margin:0;
      li {display:inline-block;float:left;padding-right:12px;background:url('/packages/toj/images/breadcrumb-arrow@2x.png') no-repeat 100% 50%;background-size:11px 35px;
        a {display:block;padding:.7em 1.2em .5em;}
        &.current {font-weight:bold;}
        &:last-child {background:none;}
        &:first-child a {padding-left:20px;}
      }
    }

    // SOCIAL ICONS IN THE BREADCRUMB BAR, FLOATED RIGHT
    .hidden-phone {display:block;padding:.2em .3em;font-size:1.9em;color:inherit;
      &:hover {text-decoration:none;}
      i {margin-left:4px;}
    }
  }
}


/* AGENCY LANDING PAGES */
body.agency-page.editMode #areaTop {margin-bottom:1.4em;}


// FOOTER AREA
#footer {position:relative;font-size:13px;z-index:2; @include boxShadow(0 0 15px #000);
  a, a:hover {text-decoration:none;color:inherit;}
  .content {
    .span12.icons {border-bottom:1px solid #bbb;}
    ul.inlined {font-size:1.3em;text-align:center;margin-top:10px;
      li {display:inline-block;
        a {display:block;padding:1em;
          i {font-size:1.4em;
            &.icon-tablet {position:relative;right:-4px;}
            &.icon-mobile-phone {position:relative;left:-4px;}
          }
        }
        &:hover a {background:#d1d1d1;@include rounded(5px);@include boxShadow(inset 0 0 7px rgba(0,0,0,.32));}
      }
    }
    .lister {padding:0 2em;overflow:hidden;
      .section {float:left;width:20%;max-width:20%;margin-top:1em;
        ul {/*height:165px;*/margin-left:1em;padding-left:1em;border-left:1px solid #bbb;
          h4 {font-size:1.2em;margin:0;padding:.4em 0;}
          li a {display:block;padding:.2em 0;}
        }
        &:first-child ul {border-left:0;margin-left:0;padding-left:0;}
        .legaleze{min-height:auto;
          p {margin:0;line-height:1.2em;padding:.3em 0 1em;font-size:11px;text-transform:uppercase;}
        }
      }
    }
  }
}


// SITE SETTINGS (IE, INTERNATIONALIZATION)
#siteSettings {width:650px;position:fixed;top:-100%;left:50%;margin-left:-325px;z-index:11; @include linearGradientLight; @include boxShadow(0 0 10px #000);
  .inner {position:relative;padding:1.6em 0;
    a.closer {padding:8px;display:block;position:absolute;top:0;right:0;text-align:center;color:#fff;font-size:1.4em; @include linearGradientDark;}
  }
}


/* SHARED BACKGROUND OPACITY */
#primaryNav.navbar.navbar-inverse .navbar-inner {@include linearGradientDark;}
.well, #primaryNavList li .subMenu, #footer .content, #cLeft ul#alertz, #weather {@include linearGradientLight;}


/* TRANSITIONS + ANIMATIONS */
#pageWrap {@include transition(all .4s ease);}
#opaqueBack {@include transition(all .8s ease);}
#parallaxWrap {@include transition(top .4s ease .2s);}
#cMiddle,
#primaryNav,
body.landing #biggieSmalls {@include transition(all .25s ease-out);}


/* BOOTSTRAP OVERRIDES */
body.modalPage div.modal {z-index:4;}
img.thumbnail {background:#fff; @include borderBox;}
.popover-title {@include linearGradientDark;color:#fff;}
.well a:hover {text-decoration:none !important;}
.well.sidebar {padding:8px 0;}
.well.sidebar ul {list-style:none;}

/* MEDIA QUERIES */
@media (max-width:767px){
  html {overflow-x:hidden;}
  body {padding:0;/*background:#f5f5f5;*/background:url(#{$tojImages}mobile-bg.jpg) no-repeat 50% 50%;background-size:cover;background-attachment:fixed;}
  .fullHeight {height:auto !important;min-height:auto !important;}
  #primaryNav {}
  #primaryNav.navbar.navbar-inverse .navbar-inner {padding:0 1em;background:#1d1d1d;}

  #homeScreen .container-fluid {padding-top:60px;}
  #homeScreen .container-fluid #homeSearch {width:100%;margin:0 auto 1.4em;padding:0 1em; @include borderBox;}
  #homeScreen .container-fluid #homeSearch i {left:1em;}
  #homeScreen .container-fluid #homeSearch button {right:1em;top:4px;}

  #introLinks ul.unstyled li {width:22%;}

  #alertSection.well {color:#222;margin:2em 1em;}

  /* landing pages */
  body.landing #cPrimary {margin:0;}
  body.landing #cPrimaryInner {padding:40px 0 0;}
  body.landing #cPrimaryInner .container-fluid {padding:0 1em;border-radius:0;background:rgba(255,255,255,.75);}
  body.landing #cPrimaryInner h1 {font-size:1.4em;}

  #siteSettings {width:auto;position:fixed;top:-100%;left:1em;right:1em;margin:0;text-align:center;}
  #siteSettings .span5 {padding-top:1em;}

  #footer {margin:0;}
  #footer .content .span12.icons {border:none;}
  #footer ul.top {@include linearGradientLight;@include boxShadow(0 0 5px rgba(0,0,0,.5));@include rounded(5px);}
  #footer ul.top h4 {margin:0;padding:.4em 0;text-align:center;cursor:pointer;}
  #footer ul.top ul.unstyled.collapse {text-align:center;}
  #footer ul.top ul.unstyled.collapse li {display:inline-block;}
  #footer ul.top ul.unstyled.collapse li a {display:block;padding:.4em .6em;}
}

@media (min-width:767px){
  body.landing #footer {height:300px;margin-top:-300px;}
  #footer ul.top ul.unstyled.collapse {height:auto !important;}
}

@media (max-width:480px){
  #introLinks ul.unstyled li {width:45%;}
  body.landing #breadcrumbs li {padding-right:8px;}
  body.landing #breadcrumbs li a {padding-left:.6em;padding-right:.5em;}
  #primaryNav.navbar.navbar-inverse .navbar-inner {padding:0;}
}

@media (max-width:979px){
  #primaryNavList li:hover .subMenu {display:none;}
  #footer .content {padding:0 1em;}
  #footer .content ul.inlined {font-size:1em;}
  #footer .content ul.inlined li a {padding:.7em .8em .5em;}
}

@media (min-width:979px){
  body.landing h1 small.visible-desktop {display:inline-block !important;}
  .modal {width:720px;margin-left:-360px;}
}

@media (min-width:1240px){
  #primaryNav, body.landing #biggieSmalls {left:240px;}
  #cMiddle {margin-left:240px;}
    #cMiddle #alertSection.well {display:none;}
  #cLeft {display:block;width:240px;}
    #cLeft #alertSection.well {padding:0;margin:1.4em 0 1em;}
    #alertSection.well #importantAlerts {margin-left:13px;}
    #alertSection.well ol.unstyled {background:none; @include rounded(0); @include boxShadow(none);}
    #alertSection.well ol.unstyled li {padding:.6em 1em;display:block;}
    #alertSection.well h4 {padding:.2em 0 .6em;}
}

@media (min-width:1480px){
  #primaryNav, body.landing #biggieSmalls {right:240px;}
  #cMiddle {margin-right:240px;}
  #cRight {display:block;width:240px;}
}

@media (min-width:1715px){
  body.landing #cPrimary {margin-left:auto;margin-right:auto;}
}


/* CMS EDIT MODE */
body.editable #primaryNav {top:49px;}
body.editMode #primaryNavList li.persist a {color:#333;background:#e9e9e9;text-shadow:none;border-left-color:#000;border-right-color:#000;}
body.editMode #primaryNavList li.persist .subMenu {display:block;}
body.editable.parallax #parallaxWrap {top:69px;}
body.editable #cLeft, body.editable #cRight {top:49px;}
body.editMode #cLeft[data-load], body.editMode #cRight[data-load] {background:none;}
body.editMode #cMiddle #alertSection.well {display:block;margin-bottom:0;}
body.editMode #cMiddle #alertSection.well:before {color:#fff;font-size:11px;text-transform:uppercase;display:inline-block;position:absolute;right:10px;bottom:100%;margin-bottom:1em;padding:5px 9px;background:rgba(0,0,0,.65);content:'Responsive Area : Always Visible In Edit Mode';}