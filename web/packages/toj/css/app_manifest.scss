// libraries / dependencies
@import "variables-mixins";
@import "bootstrap";
@import "font-awesome";

// commons
html, body, #cL1 {height:100% !important;}
body {font-family:'Roboto Slab', serif;background:url(#{$imagePath}textures/black_lozenge.png);background-attachment:fixed;}
h1,h2,h3,h4,h5 {font-family:inherit;font-weight:700;}
a {cursor:pointer;}
.backStretch {background-position:50% 50%;background-size:cover;background-repeat:no-repeat;
  &.anchorLeft {background-position:0 50%;}
}

// sidebars
.sidebars {width:$sidebarWidth;position:fixed;top:0;bottom:0;overflow-y:hidden/*auto*/;z-index:0;
  &#sidebarLeft {left:0;@include boxShadow(inset -20px 0 20px -20px #000);}
  &#sidebarRight {right:0;@include boxShadow(inset 20px 0 20px -20px #000);}
  &[data-load] {background:transparent url(#{$imagePath}loading.gif) no-repeat 50% 50%;}
  .inner {padding:10px;min-height:100%;}
}

// main page content
#cL1 {position:relative;z-index:1;@include cssTransition(margin .25s ease-in);}
#pageBackgroundImage {display:block;position:fixed;top:0;right:0;left:0;bottom:0;z-index:0;@include cssTransition((left .25s ease-in, right .25s ease-in));}
#cL2 {min-height:100%;position:relative;z-index:1;}
#cL3 {padding:80px 45px 20px;
  .bodyContent {margin:0 auto;max-width:$contentMaxWidth;}
}

// navigation
#primaryNav {@include linearGradientDark;
  ul.nav {position:relative;
    li {position:static;
      a.level-1 {cursor:pointer;z-index:1;}
      .subMenu {display:none;background:#f5f5f5;position:absolute;padding:15px 0;top:100%;left:0;right:10px; @include boxShadow(0 2px 8px rgba(0,0,0,.65));@include rounded(0,0,6px,6px);
        .container {width:100%;
          .well {margin:0;background-color:#e9e9e9;}
          ul.list-unstyled li a {display:block;padding:5px;@include rounded(3px);@include cssTransition(padding .15s ease);
            &:hover {background:#fff;padding-left:9px;text-decoration:none;@include boxShadow(inset 0 0 4px rgba(0,0,0,.5));}
          }
        }
      }

      &:hover, &.sticky {
        a.level-1 {color:$textColorLightGray;background:#f5f5f5;}
        .subMenu {display:block;}
      }
    }
  }
}

// footer
#cFooter {position:absolute;top:100%;left:0;right:0;background:#ddd;
  .content {padding:1em 15px;margin:0 auto;max-width:900px;
    .horiz {border-bottom:1px solid #ccc;
      ul.iconz {@include tabbedList;padding-bottom:8px;color:$textColorLightGray;font-size:1.3em;text-align:center;border-bottom:1px solid #fff;
        li {float:none;
          a {color:inherit;padding:1em;
            &:hover {text-decoration:none;}
            i {font-size:1.4em;margin:0 2px;}
            span.inner-text {display:inline-block;padding-left:4px;position:relative;top:-3px;}
          }
          &:hover a {background:#d1d1d1;@include rounded(5px);@include boxShadow(inset 0 0 7px rgba(0,0,0,.32));}
        }
      }
    }
    .columns {padding:1em 0;
      .inner {border-left:1px solid #ccc;
        .resources {padding-left:1em;border-left:1px solid #fff;
          ul.collapse {display:block;
            li a {display:block;padding:2px 0;}
          }
        }
      }
    }
    .well {font-size:12px;color:$textColorLightGray;text-align:center;margin-bottom:0;background:rgba(0,0,0,.15);
      p {margin:0;}
    }
  }
}

// SITE SETTINGS (IE, INTERNATIONALIZATION)
#siteSettings {width:520px;position:fixed;top:-100%;left:50%;margin-left:-260px;z-index:11; @include linearGradientLight; @include boxShadow(0 0 10px #000);
  .inner {position:relative;padding:1.4em 15px;text-align:center;
    a.closer {padding:8px;display:block;position:absolute;top:0;right:0;text-align:center;color:#fff;font-size:1.4em;z-index:99; @include linearGradientDark;}
  }
}


/****************************** PAGE TYPES ******************************/
body.home {
  #tagLine {margin:45px 0;
    h1 {margin:0;line-height:1em;color:#fff;text-align:center;text-shadow:0 1px 4px #000;
      small {display:block;color:#e9e9e9;padding:.6em 0 0;}
    }
  }

  #homeSearch {margin-bottom:45px;
    .inner {position:relative;
      input {padding-left:35px;@include boxShadow(0 0 20px rgba(0,0,0,.65));}
      i {position:absolute;font-size:1.7em;left:8px;top:10px;z-index:1;}
      button {position:absolute;right:0;top:0;z-index:1;}
    }
  }

  #introLinks {color:#f1f1f1;text-align:center;margin-bottom:45px;@include clearfix;
    a {width:24%;float:left;margin-left:1%;margin-bottom:8px;left:-1%;position:relative;display:block;padding:1.2em 1em 1em;background-color:rgba(0,0,0,.8);border:1px solid transparent;color:inherit;background-clip:padding-box; @include borderBox; @include rounded(8px); @include boxShadow(0 0 4px #000);
      i {display:block;margin:0 auto;font-size:2.9em;margin-bottom:.1em;}
      &:hover {text-decoration:none;border:1px solid #fff;color:#fff;}
    }
  }
}


// transition main content and fixed background to show sidebars
@media (min-width:1240px){
  #cL1 {margin-left:$sidebarWidth;}
  #primaryNav, #pageBackgroundImage {left:$sidebarWidth;}

  @media (min-width:1480px){
    #cL1 {margin-right:$sidebarWidth;}
    #primaryNav, #pageBackgroundImage {right:$sidebarWidth;}
  }
}


// general media queries
@media (max-width:$screen-sm){
  #cL2 #cL3 {padding:70px 15px 10px;}
}

@media (orientation: portrait){
  body.home #introLinks a {width:48%;margin-left:0;left:0;
    &:nth-child(even) {float:right;}
  }
}


// cms login/status overrides
body.cms-admin {
  .sidebars, #primaryNav {top:49px;}
}